<!DOCTYPE html>
<html class="theme theme-white">
<head>
<meta charset="utf-8">
<title>Stack</title>
<link href="https://www.zybuluo.com/static/assets/template-theme-white.css" rel="stylesheet" media="screen">
<style type="text/css">

#wmd-preview h1  {
    color: #0077bb; /* 将标题改为蓝色 */
}</style>
</head>
<body class="theme theme-white">
<div id="wmd-preview" class="wmd-preview wmd-preview-full-reader"><div class="md-section-divider"></div><div class="md-section-divider"></div><h1 data-anchor-id="uuw2" id="stack">Stack</h1><p data-anchor-id="zgd7"><code>集合</code></p><p data-anchor-id="bj0q"><a href="http://blog.zhoulychn.com/JavaSE/center.html" target="_blank">点击返回导航页</a></p><hr><p data-anchor-id="8stm"><div class="toc"><div class="toc">
<ul>
<li><a href="#stack">Stack</a><ul>
<li><a href="#基础结构">基础结构</a></li>
<li><a href="#1-push">(1) push</a></li>
<li><a href="#2-peek">(2) peek</a></li>
<li><a href="#3-pop">(3) pop</a></li>
<li><a href="#4-search">(4) search</a></li>
</ul>
</li>
</ul>
</div>
</div>
</p><hr><div class="md-section-divider"></div><h2 data-anchor-id="bhsq" id="基础结构">基础结构</h2><p data-anchor-id="whaq">Stack顾名思义，提供了一系列栈操作的方法，其实有很多其他的类也有提供，例如LinkedList和ArrayDeque，所以此类基本用处不大。本类的存储结构不由自己定义，而是继承而来。</p><p data-anchor-id="81nb"><strong>继承结构</strong>: <br>
<img src="http://static.zybuluo.com/zy380104192/xuz628rb4200o1xmjrzbdxsw/QQ%E6%88%AA%E5%9B%BE20180304155627.png" alt="QQ截图20180304155627.png-15.7kB" title=""></p><p data-anchor-id="ehx8">主要继承自Vector，Vector底层是由数组构成，并且大多数方法与ArrayList类似，只是额外保证了线程安全。</p><div class="md-section-divider"></div><h2 data-anchor-id="ka83" id="1-push">(1) push</h2><p data-anchor-id="bt3f">栈的压入操作，向栈顶压入元素。</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="ay40"><ol class="linenums"><li class="L0"><code class="language-java"><span class="kwd">public</span><span class="pln"> E push</span><span class="pun">(</span><span class="pln">E item</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code class="language-java"><span class="pln">    addElement</span><span class="pun">(</span><span class="pln">item</span><span class="pun">);</span></code></li><li class="L2"><code class="language-java"></code></li><li class="L3"><code class="language-java"><span class="pln">    </span><span class="kwd">return</span><span class="pln"> item</span><span class="pun">;</span></code></li><li class="L4"><code class="language-java"><span class="pun">}</span></code></li><li class="L5"><code class="language-java"></code></li><li class="L6"><code class="language-java"><span class="com">//Vector中同步的插入方法</span></code></li><li class="L7"><code class="language-java"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">synchronized</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> addElement</span><span class="pun">(</span><span class="pln">E obj</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L8"><code class="language-java"><span class="pln">    modCount</span><span class="pun">++;</span></code></li><li class="L9"><code class="language-java"><span class="pln">    ensureCapacityHelper</span><span class="pun">(</span><span class="pln">elementCount </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span></code></li><li class="L0"><code class="language-java"><span class="pln">    elementData</span><span class="pun">[</span><span class="pln">elementCount</span><span class="pun">++]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> obj</span><span class="pun">;</span></code></li><li class="L1"><code class="language-java"><span class="pun">}</span></code></li></ol></pre><div class="md-section-divider"></div><h2 data-anchor-id="62zr" id="2-peek">(2) peek</h2><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="ijea"><ol class="linenums"><li class="L0"><code class="language-java"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">synchronized</span><span class="pln"> E peek</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code class="language-java"><span class="pln">    </span><span class="kwd">int</span><span class="pln">     len </span><span class="pun">=</span><span class="pln"> size</span><span class="pun">();</span><span class="pln">  </span><span class="com">//栈顶在数组末尾处</span></code></li><li class="L2"><code class="language-java"></code></li><li class="L3"><code class="language-java"><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">len </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span></code></li><li class="L4"><code class="language-java"><span class="pln">        </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">EmptyStackException</span><span class="pun">();</span></code></li><li class="L5"><code class="language-java"><span class="pln">    </span><span class="kwd">return</span><span class="pln"> elementAt</span><span class="pun">(</span><span class="pln">len </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln">  </span><span class="com">//直接通过索引获取</span></code></li><li class="L6"><code class="language-java"><span class="pun">}</span></code></li></ol></pre><div class="md-section-divider"></div><h2 data-anchor-id="64u1" id="3-pop">(3) pop</h2><p data-anchor-id="nwz5">栈的弹出操作，弹出栈顶元素</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="lxba"><ol class="linenums"><li class="L0"><code class="language-java"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">synchronized</span><span class="pln"> E pop</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code class="language-java"><span class="pln">    E       obj</span><span class="pun">;</span></code></li><li class="L2"><code class="language-java"><span class="pln">    </span><span class="kwd">int</span><span class="pln">     len </span><span class="pun">=</span><span class="pln"> size</span><span class="pun">();</span></code></li><li class="L3"><code class="language-java"></code></li><li class="L4"><code class="language-java"><span class="pln">    obj </span><span class="pun">=</span><span class="pln"> peek</span><span class="pun">();</span><span class="pln">  </span><span class="com">//取栈顶元素</span></code></li><li class="L5"><code class="language-java"><span class="pln">    removeElementAt</span><span class="pun">(</span><span class="pln">len </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln">  </span><span class="com">//删除索引处元素</span></code></li><li class="L6"><code class="language-java"></code></li><li class="L7"><code class="language-java"><span class="pln">    </span><span class="kwd">return</span><span class="pln"> obj</span><span class="pun">;</span></code></li><li class="L8"><code class="language-java"><span class="pun">}</span></code></li></ol></pre><div class="md-section-divider"></div><h2 data-anchor-id="a115" id="4-search">(4) search</h2><p data-anchor-id="b8ct">查找与指定元素等价的元素</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="ho8j"><ol class="linenums"><li class="L0"><code class="language-java"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">synchronized</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> search</span><span class="pun">(</span><span class="typ">Object</span><span class="pln"> o</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code class="language-java"><span class="pln">    </span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> lastIndexOf</span><span class="pun">(</span><span class="pln">o</span><span class="pun">);</span><span class="pln">  </span><span class="com">//调用Vector方法查找最后一个等价元素</span></code></li><li class="L2"><code class="language-java"></code></li><li class="L3"><code class="language-java"><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i </span><span class="pun">&gt;=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4"><code class="language-java"><span class="pln">        </span><span class="kwd">return</span><span class="pln"> size</span><span class="pun">()</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> i</span><span class="pun">;</span></code></li><li class="L5"><code class="language-java"><span class="pln">    </span><span class="pun">}</span></code></li><li class="L6"><code class="language-java"><span class="pln">    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">;</span></code></li><li class="L7"><code class="language-java"><span class="pun">}</span></code></li></ol></pre></div>
</body>
</html>