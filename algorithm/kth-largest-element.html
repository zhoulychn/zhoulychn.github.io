<!DOCTYPE html>
<html class="theme theme-white">
<head>
<meta charset="utf-8">
<title>第K大元素</title>
<link href="https://www.zybuluo.com/static/assets/template-theme-white.css" rel="stylesheet" media="screen">
<style type="text/css">

#wmd-preview h1  {
    color: #0077bb; /* 将标题改为蓝色 */
}</style>
</head>
<body class="theme theme-white">
<div id="wmd-preview" class="wmd-preview wmd-preview-full-reader"><div class="md-section-divider"></div><div class="md-section-divider"></div><h1 data-anchor-id="cro0" id="第k大元素">第K大元素</h1><p data-anchor-id="cjoj"><code>数据结构与算法</code></p><p data-anchor-id="8rfi"><a href="http://blog.zhoulychn.com/JavaSE/center.html" target="_blank">点击返回导航页</a></p><hr><div class="md-section-divider"></div><h2 data-anchor-id="zb7n" id="问题描述">问题描述</h2><p data-anchor-id="iwxo">在数组中找到第k大的元素，可以交换数组中的元素的位置。</p><div class="md-section-divider"></div><h2 data-anchor-id="0x1q" id="算法思路">算法思路</h2><ol data-anchor-id="hqst">
<li><p>最简单的，对数组排序然后取第K个数，时间复杂度为O(N*logN)。</p></li>
<li><p>通过选择排序、冒泡排序这种，每次可以获得一个最大元素，第K趟可以取得第K大元素，时间复杂度O(N*K)。</p></li>
<li><p>利用快速排序，每次划分后，右部元素大于枢轴元素，左部元素小于枢轴元素。 <br>
如果<code>右部元素数量等于K-1</code>，枢轴元素就是第K大元素，直接返回。 <br>
如果<code>右部元素数量大于K-1</code>，第K大元素在右部元素中。 <br>
如果<code>右部元素小于K-1</code>，说明第K大元素在左部，并且由于下次划分会抛弃右部和枢轴本身，所以需要将K重置为<code>k-(右部元素数量+1)</code>。 <br>
按此思想不断递归就可以找出第K大元素，由于每次划分长度缩减为上次的一般，所以时间复杂度近似O(N)。</p></li>
</ol><div class="md-section-divider"></div><h2 data-anchor-id="hwv3" id="代码实现">代码实现</h2><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="huxj"><ol class="linenums"><li class="L0"><code class="language-java"></code></li><li class="L1"><code class="language-java"><span class="com">//此算法可以用递归实现，但是不建议在OJ中使用，数据量大的时候栈溢出。</span></code></li><li class="L2"><code class="language-java"><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> kthLargestElement</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> k</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pun">[]</span><span class="pln"> nums</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3"><code class="language-java"><span class="pln">    </span><span class="kwd">int</span><span class="pln"> low </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> high </span><span class="pun">=</span><span class="pln"> nums</span><span class="pun">.</span><span class="pln">length </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span></code></li><li class="L4"><code class="language-java"><span class="pln">    </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">true</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L5"><code class="language-java"><span class="pln">        </span><span class="kwd">int</span><span class="pln"> index </span><span class="pun">=</span><span class="pln"> partition</span><span class="pun">(</span><span class="pln">nums</span><span class="pun">,</span><span class="pln"> high</span><span class="pun">,</span><span class="pln"> low</span><span class="pun">);</span></code></li><li class="L6"><code class="language-java"></code></li><li class="L7"><code class="language-java"><span class="pln">        </span><span class="com">//关键地方，需要理解思路</span></code></li><li class="L8"><code class="language-java"><span class="pln">        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">high </span><span class="pun">-</span><span class="pln"> index </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> k</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L9"><code class="language-java"><span class="pln">            low </span><span class="pun">=</span><span class="pln"> index </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span></code></li><li class="L0"><code class="language-java"><span class="pln">        </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">high </span><span class="pun">-</span><span class="pln"> index </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> k</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code class="language-java"><span class="pln">            k </span><span class="pun">-=</span><span class="pln"> high </span><span class="pun">-</span><span class="pln"> index </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span></code></li><li class="L2"><code class="language-java"><span class="pln">            high </span><span class="pun">=</span><span class="pln"> index </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span></code></li><li class="L3"><code class="language-java"><span class="pln">        </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4"><code class="language-java"><span class="pln">            </span><span class="kwd">return</span><span class="pln"> nums</span><span class="pun">[</span><span class="pln">index</span><span class="pun">];</span></code></li><li class="L5"><code class="language-java"><span class="pln">        </span><span class="pun">}</span></code></li><li class="L6"><code class="language-java"><span class="pln">    </span><span class="pun">}</span></code></li><li class="L7"><code class="language-java"><span class="pun">}</span></code></li><li class="L8"><code class="language-java"></code></li><li class="L9"><code class="language-java"></code></li><li class="L0"><code class="language-java"><span class="com">// 快速排序划分操作，结果返回枢轴元素索引</span></code></li><li class="L1"><code class="language-java"><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> partition</span><span class="pun">(</span><span class="kwd">int</span><span class="pun">[]</span><span class="pln"> nums</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> high</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> low</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code class="language-java"><span class="pln">    </span><span class="kwd">int</span><span class="pln"> pivot </span><span class="pun">=</span><span class="pln"> nums</span><span class="pun">[</span><span class="pln">low</span><span class="pun">];</span></code></li><li class="L3"><code class="language-java"><span class="pln">    </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">low </span><span class="pun">&lt;</span><span class="pln"> high</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4"><code class="language-java"><span class="pln">        </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">low </span><span class="pun">&lt;</span><span class="pln"> high </span><span class="pun">&amp;&amp;</span><span class="pln"> nums</span><span class="pun">[</span><span class="pln">high</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&gt;=</span><span class="pln"> pivot</span><span class="pun">)</span><span class="pln"> high</span><span class="pun">--;</span></code></li><li class="L5"><code class="language-java"><span class="pln">        nums</span><span class="pun">[</span><span class="pln">low</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> nums</span><span class="pun">[</span><span class="pln">high</span><span class="pun">];</span></code></li><li class="L6"><code class="language-java"><span class="pln">        </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">low </span><span class="pun">&lt;</span><span class="pln"> high </span><span class="pun">&amp;&amp;</span><span class="pln"> nums</span><span class="pun">[</span><span class="pln">low</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&lt;=</span><span class="pln"> pivot</span><span class="pun">)</span><span class="pln"> low</span><span class="pun">++;</span></code></li><li class="L7"><code class="language-java"><span class="pln">        nums</span><span class="pun">[</span><span class="pln">high</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> nums</span><span class="pun">[</span><span class="pln">low</span><span class="pun">];</span></code></li><li class="L8"><code class="language-java"><span class="pln">    </span><span class="pun">}</span></code></li><li class="L9"><code class="language-java"><span class="pln">    nums</span><span class="pun">[</span><span class="pln">low</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> pivot</span><span class="pun">;</span></code></li><li class="L0"><code class="language-java"><span class="pln">    </span><span class="kwd">return</span><span class="pln"> low</span><span class="pun">;</span></code></li><li class="L1"><code class="language-java"><span class="pun">}</span></code></li></ol></pre></div>
</body>
</html>